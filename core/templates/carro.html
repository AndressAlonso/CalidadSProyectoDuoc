{% extends "plantilla.html" %}
{% load humanize %}
{% block content %}
<div id="carrito" class="container">
  <div class="w-100 d-flex justify-content-start py-3 align-items-center">
    ><svg enable-background="new 0 0 520 520" viewBox="0 0 520 520" width="35" height="35" xmlns="http://www.w3.org/2000/svg"><g id="_x36_68_x2C__Shopping_x2C__Supermarket_x2C__Cart"><g><path d="m120 80 40 60h-40l-20-30h-45c-4.14 0-7.9-1.68-10.61-4.39s-4.39-6.47-4.39-10.61c0-8.28 6.71-15 15-15h25z" fill="#414a56"/><g fill="#2d2c2e"><path d="m360 50c11.04 0 20 8.96 20 20 0 11.05-8.96 20-20 20-11.05 0-20-8.95-20-20 0-11.04 8.95-20 20-20z"/><path d="m70 280c11.04 0 20 8.96 20 20 0 11.05-8.96 20-20 20-11.05 0-20-8.95-20-20 0-11.04 8.95-20 20-20z"/><path d="m200 420c5.52 0 10 4.48 10 10s-4.48 10-10 10-10-4.48-10-10 4.48-10 10-10z"/><path d="m390 420c5.52 0 10 4.48 10 10s-4.48 10-10 10-10-4.48-10-10 4.48-10 10-10z"/></g><path d="m200 390c22.09 0 40 17.91 40 40s-17.91 40-40 40-40-17.91-40-40 17.91-40 40-40zm10 40c0-5.52-4.48-10-10-10s-10 4.48-10 10 4.48 10 10 10 10-4.48 10-10z" fill="#3c3b3d"/><path d="m390 390c22.09 0 40 17.91 40 40s-17.91 40-40 40-40-17.91-40-40 17.91-40 40-40zm10 40c0-5.52-4.48-10-10-10s-10 4.48-10 10 4.48 10 10 10 10-4.48 10-10z" fill="#3c3b3d"/><path d="m489.48 436.84c.35 1.05.52 2.12.52 3.17 0 4.181-2.65 8.08-6.84 9.48-1.05.35-2.11.51-3.16.51-4.19 0-8.09-2.65-9.49-6.84-.35-1.05-.51-2.11-.51-3.16 0-4.19 2.65-8.09 6.84-9.49 5.24-1.74 10.9 1.09 12.64 6.33z"/><path d="m449.48 96.84c.35 1.05.52 2.12.52 3.17 0 4.18-2.65 8.08-6.84 9.48-1.05.35-2.11.51-3.16.51-4.19 0-8.09-2.65-9.49-6.84-.35-1.05-.51-2.11-.51-3.16 0-4.19 2.65-8.09 6.84-9.49 5.24-1.74 10.9 1.09 12.64 6.33z"/><path d="m189.49 56.84c.35 1.05.51 2.11.51 3.16 0 4.19-2.65 8.09-6.84 9.49-1.05.35-2.11.51-3.16.51-4.19 0-8.09-2.65-9.49-6.84-.35-1.05-.52-2.11-.52-3.16 0-4.19 2.66-8.09 6.85-9.49 5.24-1.74 10.9 1.09 12.65 6.33z"/><path d="m109.49 416.84c.35 1.05.51 2.11.51 3.16 0 4.19-2.65 8.09-6.84 9.49-1.05.35-2.11.51-3.16.51-4.19 0-8.09-2.65-9.49-6.84-.35-1.05-.52-2.11-.52-3.16 0-4.19 2.66-8.09 6.85-9.49 5.24-1.74 10.9 1.09 12.65 6.33z"/><path d="m89.49 196.84c.35 1.05.51 2.11.51 3.16 0 4.19-2.65 8.09-6.84 9.49-1.05.35-2.11.51-3.16.51-4.19 0-8.09-2.65-9.49-6.84-.35-1.05-.52-2.11-.52-3.16 0-4.19 2.66-8.09 6.85-9.49 5.24-1.74 10.9 1.09 12.65 6.33z"/><path d="m450 340h-16.45c-5.522 0-10-4.478-10-10s4.478-10 10-10h16.45c5.522 0 10 4.478 10 10s-4.478 10-10 10z"/><path d="m480 400h-340c-22.056 0-40-17.944-40-40 0-10.681 4.162-20.725 11.719-28.281 7.558-7.557 17.601-11.719 28.281-11.719h3.22c5.523 0 10 4.478 10 10s-4.477 10-10 10h-3.22c-5.337 0-10.359 2.082-14.139 5.861-3.779 3.78-5.861 8.801-5.861 14.139 0 11.028 8.972 20 20 20h340c5.522 0 10 4.478 10 10s-4.478 10-10 10z"/><path d="m460.44 230h-330.66c-5.523 0-10-4.477-10-10s4.477-10 10-10h330.66c5.522 0 10 4.477 10 10s-4.477 10-10 10z"/><path d="m470.22 190h-345.33c-5.523 0-10-4.477-10-10s4.477-10 10-10h345.33c5.522 0 10 4.477 10 10s-4.478 10-10 10z"/><path d="m440.88 310h-301.32c-5.523 0-10-4.478-10-10s4.477-10 10-10h301.32c5.522 0 10 4.478 10 10s-4.478 10-10 10z"/><path d="m450.66 270h-315.99c-5.523 0-10-4.478-10-10 0-5.523 4.477-10 10-10h315.99c5.522 0 10 4.477 10 10 0 5.522-4.477 10-10 10z"/><path d="m200 340c-5.523 0-10-4.478-10-10v-190c0-5.523 4.477-10 10-10s10 4.477 10 10v190c0 5.522-4.477 10-10 10z"/><path d="m260 340c-5.523 0-10-4.478-10-10v-190c0-5.523 4.477-10 10-10 5.522 0 10 4.477 10 10v190c0 5.522-4.478 10-10 10z"/><path d="m320 340c-5.522 0-10-4.478-10-10v-190c0-5.523 4.478-10 10-10s10 4.477 10 10v190c0 5.522-4.478 10-10 10z"/><path d="m380 340c-5.522 0-10-4.478-10-10v-190c0-5.523 4.478-10 10-10s10 4.477 10 10v190c0 5.522-4.478 10-10 10z"/><path d="m160.009 150.001c-3.231 0-6.403-1.563-8.33-4.454l-37.031-55.547h-59.648c-2.757 0-5 2.243-5 5 0 1.808.916 2.993 1.461 3.539.546.545 1.731 1.461 3.539 1.461h45c3.344 0 6.466 1.671 8.32 4.453l20 30c3.064 4.595 1.822 10.804-2.773 13.867-4.594 3.063-10.804 1.822-13.867-2.773l-17.032-25.547h-39.648c-6.682 0-12.961-2.599-17.681-7.319s-7.319-10.999-7.319-17.681c0-13.785 11.215-25 25-25h65c3.344 0 6.466 1.671 8.32 4.453l40 60c3.064 4.595 1.822 10.804-2.773 13.867-1.705 1.137-3.632 1.681-5.538 1.681z"/><path d="m200 480c-27.57 0-50-22.43-50-50s22.43-50 50-50 50 22.43 50 50-22.43 50-50 50zm0-80c-16.542 0-30 13.458-30 30s13.458 30 30 30 30-13.458 30-30-13.458-30-30-30z"/><path d="m390 480c-27.57 0-50-22.43-50-50s22.43-50 50-50 50 22.43 50 50-22.43 50-50 50zm0-80c-16.542 0-30 13.458-30 30s13.458 30 30 30 30-13.458 30-30-13.458-30-30-30z"/><path d="m390 450c-11.028 0-20-8.972-20-20s8.972-20 20-20 20 8.972 20 20-8.972 20-20 20z"/><path d="m200 450c-11.028 0-20-8.972-20-20s8.972-20 20-20 20 8.972 20 20-8.972 20-20 20z"/><path d="m360 100c-16.542 0-30-13.458-30-30s13.458-30 30-30 30 13.458 30 30-13.458 30-30 30zm0-40c-5.514 0-10 4.486-10 10s4.486 10 10 10 10-4.486 10-10-4.486-10-10-10z"/><path d="m70 330c-16.542 0-30-13.458-30-30s13.458-30 30-30 30 13.458 30 30-13.458 30-30 30zm0-40c-5.514 0-10 4.486-10 10s4.486 10 10 10 10-4.486 10-10-4.486-10-10-10z"/><path d="m433.55 340h-290.33c-5.053 0-9.313-3.77-9.926-8.785l-23.221-190.001c-.347-2.842.541-5.697 2.438-7.841 1.899-2.145 4.625-3.373 7.489-3.373h360c3.07 0 5.971 1.411 7.866 3.826s2.577 5.567 1.848 8.549l-46.45 189.998c-1.094 4.478-5.106 7.627-9.714 7.627zm-281.479-20h273.628l41.562-170h-335.964z"/></g></g></svg>
  </div>
  {% if request.session.carrito|length > 0 %}
  <div class="table-responsive">
    <table class="table table-hover">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Producto</th>
          <th scope="col">Nombre</th>
          <th scope="col">Precio</th>
          <th scope="col">Cantidad</th>
          <th scope="col">Total</th>
          <th scope="col"></th>
          <th scope="col"></th>
        </tr>
      </thead>
      <tbody class="">
        {% for producto in request.session.carrito %}
          <tr id="item_carrito" class="flex-grow-1">
            <th scope="row">{{ forloop.counter }}</th>
            <td>
              <img src="{{ producto.imagenUrl }}" alt="Producto 1" style="max-width: 50px;" />
            </td>
            <td id="detalle">
              <a href="" class="text-body-secondary text-decoration-none fw-bold">{{ producto.nombre }}</a>
            </td>
            <td>${{ producto.precio|intcomma }}</td>
            <td>{{ producto.cantidad }}</td>
            <td>${{ producto.subtotal|intcomma }}</td>
            <td>
              <a id="btnDelToCar" href="{% url 'delToCar' producto.id %}" class="btn btn-outline-danger shadow">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="30" height="30">
                  <path d="M13.59375 4L13.28125 4.28125L12.5625 5L6 5L6 7L7 7L7 25C7 26.644531 8.355469 28 10 28L22 28C23.644531 28 25 26.644531 25 25L25 7L26 7L26 5L19.4375 5L18.71875 4.28125L18.40625 4 Z M 14.4375 6L17.5625 6L18.28125 6.71875L18.59375 7L23 7L23 25C23 25.554688 22.554688 26 22 26L10 26C9.445313 26 9 25.554688 9 25L9 7L13.40625 7L13.71875 6.71875 Z M 11 11L11 22L13 22L13 11 Z M 15 11L15 22L17 22L17 11 Z M 19 11L19 22L21 22L21 11Z" />
                </svg>
              </a>
            </td>
            <td>
              <a id="btnDelToCar" href="{% url 'addToCar' producto.id %}" class="btn btn-outline-success shadow">
                <span class="fw-bolder text-center" style="height:24px !important; width:24px !important;">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="30" height="30">
                    <path d="M4 7C3.449219 7 3 7.449219 3 8C3 8.550781 3.449219 9 4 9L6.21875 9L8.84375 19.5C9.066406 20.390625 9.863281 21 10.78125 21L23.25 21C24.152344 21 24.917969 20.402344 25.15625 19.53125L27.75 10L25.65625 10L23.25 19L10.78125 19L8.15625 8.5C7.933594 7.609375 7.136719 7 6.21875 7 Z M 22 21C20.355469 21 19 22.355469 19 24C19 25.644531 20.355469 27 22 27C23.644531 27 25 25.644531 25 24C25 22.355469 23.644531 21 22 21 Z M 13 21C11.355469 21 10 22.355469 10 24C10 25.644531 11.355469 27 13 27C14.644531 27 16 25.644531 16 24C16 22.355469 14.644531 21 13 21 Z M 16 7L16 10L13 10L13 12L16 12L16 15L18 15L18 12L21 12L21 10L18 10L18 7 Z M 13 23C13.5625 23 14 23.4375 14 24C14 24.5625 13.5625 25 13 25C12.4375 25 12 24.5625 12 24C12 23.4375 12.4375 23 13 23 Z M 22 23C22.5625 23 23 23.4375 23 24C23 24.5625 22.5625 25 22 25C21.4375 25 21 24.5625 21 24C21 23.4375 21.4375 23 22 23Z" />
                  </svg>
                </span>
              </a>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  <div class="w-100 py-2">
    <a href="}" class="btn btn-light py-2 border border-dark-subtle w-100" type="button">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="31" height="31">
        <path d="M4 7C3.449219 7 3 7.449219 3 8C3 8.550781 3.449219 9 4 9L6.21875 9L8.84375 19.5C9.066406 20.390625 9.863281 21 10.78125 21L23.25 21C24.152344 21 24.917969 20.402344 25.15625 19.53125L27.75 10L25.65625 10L23.25 19L10.78125 19L8.15625 8.5C7.933594 7.609375 7.136719 7 6.21875 7 Z M 22 21C20.355469 21 19 22.355469 19 24C19 25.644531 20.355469 27 22 27C23.644531 27 25 25.644531 25 24C25 22.355469 23.644531 21 22 21 Z M 13 21C11.355469 21 10 22.355469 10 24C10 25.644531 11.355469 27 13 27C14.644531 27 16 25.644531 16 24C16 22.355469 14.644531 21 13 21 Z M 16 7L16 12L13 12L17 16L21 12L18 12L18 7 Z M 13 23C13.5625 23 14 23.4375 14 24C14 24.5625 13.5625 25 13 25C12.4375 25 12 24.5625 12 24C12 23.4375 12.4375 23 13 23 Z M 22 23C22.5625 23 23 23.4375 23 24C23 24.5625 22.5625 25 22 25C21.4375 25 21 24.5625 21 24C21 23.4375 21.4375 23 22 23Z" />
      </svg><span class="">Comprar Todo</span>
    </a>
  </div>
  {% else %}
  <div class="d-flex justify-content-center align-items-center py-4">
    <h4>Tu carrito esta vacio</h4>
  </div>
  {% endif %}
</div>
{% endblock %}